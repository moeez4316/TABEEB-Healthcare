# ================================
# TABEEB Healthcare - Docker Environment Configuration
# ================================
#
# IMPORTANT: Copy this file to .env and configure all values
# DO NOT commit .env file to version control
#
# This file is used by docker-compose.yml for deployment

# ================================
# DATABASE CONFIGURATION
# ================================

# Option 1: Use Docker MySQL Container (default for local/testing)
MYSQL_ROOT_PASSWORD=tabeeb_root_password_change_this
MYSQL_DATABASE=tabeeb
MYSQL_USER=tabeeb_user
MYSQL_PASSWORD=tabeeb_password_change_this

# Database URL for Prisma (docker container)
# Use this when using containerized MySQL:
# DATABASE_URL=mysql://${MYSQL_USER}:${MYSQL_PASSWORD}@mysql:3306/${MYSQL_DATABASE}

# Option 2: Use External MySQL Database (for production if you have existing DB)
# Uncomment and configure this, then comment out the containerized DATABASE_URL above:
# DATABASE_URL=mysql://username:password@host:port/database

# ================================
# BACKEND CONFIGURATION  
# ================================

PORT=5002
NODE_ENV=production

# JWT Secret for Admin Authentication (CHANGE THIS!)
ADMIN_JWT_SECRET=your-super-secret-admin-jwt-key-change-this-to-random-string

# Admin Credentials
ADMIN_USERNAME=admin
ADMIN_PASSWORD=secure123admin
ADMIN_CREDENTIALS=[{"username":"superadmin","password":"SuperAdmin123"},{"username":"medadmin","password":"MedAdmin456"}]

# Rate Limiting
RATE_LIMIT_ENABLED=true

# ================================
# REDIS / REALTIME CONFIGURATION
# ================================

# Redis password (local or managed)
REDIS_PASSWORD=change_this_redis_password

# Redis connection string
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379/0

# WebSocket settings
WS_PATH=/ws
# Comma-separated origins allowed to connect to realtime socket
WS_CORS_ORIGIN=http://localhost:3000,https://your-domain.com
WS_PING_INTERVAL_MS=25000
WS_PING_TIMEOUT_MS=60000

# Event schema version
REALTIME_EVENT_SCHEMA_VERSION=1

# ================================
# FIREBASE CONFIGURATION
# ================================

# Firebase Admin SDK (Backend)
# Get from: Firebase Console → Project Settings → Service Accounts → Generate new private key
FIREBASE_PROJECT_ID=tabeeb-001
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYourPrivateKeyHere\n-----END PRIVATE KEY-----\n"

# Firebase Client SDK (Frontend)
# Get from: Firebase Console → Project Settings → General → Your apps → Config
NEXT_PUBLIC_FIREBASE_API_KEY=your-firebase-api-key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-project-id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=123456789012
NEXT_PUBLIC_FIREBASE_APP_ID=1:123456789012:web:abcdef123456
NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID=G-XXXXXXXXXX

# ================================
# CLOUDINARY CONFIGURATION
# ================================
# Get from: Cloudinary Dashboard → Settings → API Keys

CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# ================================
# JITSI VIDEO CALL CONFIGURATION
# ================================

JITSI_APP_ID=tabeeb
JITSI_APP_SECRET=your-jitsi-secret-key
JITSI_DOMAIN=meet.jit.si

# For Frontend
NEXT_PUBLIC_JITSI_APP_ID=tabeeb
NEXT_PUBLIC_JITSI_SECRET=your-jitsi-secret-key
NEXT_PUBLIC_JITSI_DOMAIN=meet.jit.si

# ================================
# API CONFIGURATION (Frontend)
# ================================

# For Docker deployment with Caddy reverse proxy (no trailing /api)
NEXT_PUBLIC_API_URL=https://tabeeb.dpdns.org

# For local development (override in .env.local)
# NEXT_PUBLIC_API_URL=http://localhost:5002

# ================================
# RESEND EMAIL CONFIGURATION
# ================================
# Get from: https://resend.com/api-keys

RESEND_API_KEY=re_your_api_key_here
RESEND_FROM_EMAIL=Tabeeb Healthcare <noreply@tabeebemail.me>
RESEND_REPLY_TO=support@tabeebemail.me
RESEND_DOMAIN=tabeebemail.me

# Webhook secret for verifying inbound events
# Get from: https://resend.com/webhooks (after creating a webhook)
RESEND_WEBHOOK_SECRET=whsec_your_webhook_secret_here
